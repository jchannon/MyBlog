<!DOCTYPE html>






<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Jonathan Channon Blog - Testing your application’s email logic</title>
        <meta name="description" content="If you’ve ever written an application that sends out email you may have written the code and executed it numerous times to check that the logic works and that the email appears as you hope. This obviously means you have to hit your SMTP server each time, open your email client and check your emails each time.
Papercut
Reading through my Twitter timeline I saw @TheCodeJunkie asking about the app that you can use to test sending emails from your application.

Intrigued, I kept an eye on my timeline and found that the application in question was Papercut">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.69.2" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="9bvoj2jXRyykef2Tg72C0Am15YBTqDF0RgeZ84tUytE" />
        <meta property="og:title" content="Testing your application’s email logic">
<meta property="og:description" content="If you’ve ever written an application that sends out email you may have written the code and executed it numerous times to check that the logic works and that the email appears as you hope. This obviously means you have to hit your SMTP server each time, open your email client and check your emails each time.
Papercut
Reading through my Twitter timeline I saw @TheCodeJunkie asking about the app that you can use to test sending emails from your application.

Intrigued, I kept an eye on my timeline and found that the application in question was Papercut">
<meta property="og:type" content="article">
<meta property="og:url" content="/2012-10-25-testing-your-applications-email-logic/">
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700%7CCourgette' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/dist/site.css">
        <link rel="stylesheet" href="/dist/syntax.css">
        <link rel="stylesheet" href="/dist/screen.css" media="screen" >
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
            <link href="/2012-10-25-testing-your-applications-email-logic/feed.xml" rel="alternate" type="application/rss+xml" title="Jonathan Channon Blog">
        
        
        
        
    </head>
    <body>
        

        <div class="body_wrap">
            <div class="logo">
                <strong><a href="index.html">Blog</a></strong>
                <div class="logo_description">curated by Jonathan Channon</div>
            </div>
            
            <div class="header">            
                <div class="header_inner">
                        
                    <nav id="topmenu" class="clearfix">
                        <ul class="dropdown">
                            <li class="menu-item-blue"><a href="/"><span>Home</span></a></li>
                            <li class="menu-item-pink"><a href="/archive"><span>Archive</span></a></li>
                        </ul>
                    
                    <select id="topm-select" onChange="location = this.value">
                        <option value="">Site Navigation</option>
                        <option value="/">Home</option>
                        <option value="/about">About Me</option>

                        <option value="/archive">Archive</option>
                        <option value="/contact">Contact</option>
                    </select>
                    </nav>    
                    

                </div>
            </div>
              
            
            <div id="middle" class="full_width">
                <div class="container clearfix">                        
                    
                    <div> 
            


<div class="post-item boxed post-detail" itemtype="http://schema.org/BlogPosting">
    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2012-10-25-testing-your-applications-email-logic/">Testing your application’s email logic</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">October 25, 2012</span> 
        
        <div class="commentcount" data-disqus-url="/2012-10-25-testing-your-applications-email-logic/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>If you’ve ever written an application that sends out email you may have written the code and executed it numerous times to check that the logic works and that the email appears as you hope. This obviously means you have to hit your SMTP server each time, open your email client and check your emails each time.</p>
<h3 id="papercut">Papercut</h3>
<p>Reading through my Twitter timeline I saw <a href="http://twitter.com/TheCodeJunkie">@TheCodeJunkie</a> asking about the app that you can use to test sending emails from your application.</p>
<p><img src="/images/blogpostimages/tweet.png" alt="TheCodeJunkie Tweet"></p>
<p>Intrigued, I kept an eye on my timeline and found that the application in question was <a href="http://papercut.codeplex.com/">Papercut</a></p>
<p>In simple terms you put Papercut on a machine (most likely your development machine) and in your code set the SMTP host to be the IP Address of where Papercut is running and fire up your application and watch Papercut notify you from the system tray that it’s recevied a message.</p>
<p><img src="/images/blogpostimages/Untitled.png" alt="Papertray System Tray Icon" title="Papertray System Tray Icon"></p>
<p><em>Papertray System Tray Icon</em></p>
<p>Lets open it up and see what it says!</p>
<p><img src="/images/blogpostimages/raw-620x330.png" alt="Raw View" title="Raw View"></p>
<p><em>Raw View</em></p>
<p><img src="/images/blogpostimages/body-620x330.png" alt="Body View" title="Body View"></p>
<p><em>Body View</em></p>
<p>I’ve tested this with a C# application and a Node.js application. If you don’t believe me, here’s the code:</p>
<p><strong>C#</strong></p>
<pre><code>static void Main(string[] args)
{
    MailMessage message = new MailMessage(&quot;Jonathan Channon &quot;, &quot;tim.cook@apple.com&quot;)
    {
        Subject = &quot;iPhone&quot;,
        Body = &quot;I would like a free iPhone for work. My boss won't let me have one. How about it?&quot;,
        BodyEncoding = Encoding.UTF8
    };
	
    message.Bcc.Add(&quot;boss@company.com&quot;);
    SmtpClient client = new SmtpClient(&quot;127.0.0.1&quot;);
    NetworkCredential info = new NetworkCredential(&quot;mail@jonathanchannon.com&quot;, &quot;reallysecurepassword&quot;);
    client.DeliveryMethod = SmtpDeliveryMethod.Network;
    client.UseDefaultCredentials = false;
    client.Credentials = info;
    try
    {
        client.Send(message);
    }
    catch(Exception ex)
    {
        Console.WriteLine(ex.Message);
    }
}
</code></pre>
<p><strong>Node.js</strong></p>
<pre><code>var nodemailer = require(&quot;nodemailer&quot;);

var smtpTransport = nodemailer.createTransport(&quot;SMTP&quot;);

var mailOptions = {
    from: &quot;Jonathan Channon &quot;,
    to: &quot;tim.cook@apple.com&quot;,
    cc: &quot;boss@company.com&quot;,
    subject: &quot;iPhone&quot;,
    text: &quot;I would like a free iPhone for work. My boss won't let me have one. How about it?&quot;,
    html: &quot;I would like a free iPhone for work. My boss won't let me have one. How about it?&quot;
};

smtpTransport.sendMail(mailOptions, function(error, response){
    if(error)
    {
        console.log(error);
    }else
    {
        console.log(&quot;Message sent: &quot; %2B response.message);
    }

    smtpTransport.close();
});
</code></pre>
<p>I think this is a great little app and a real time saver. I highly recommend that you check it out!</p>
<p>They also offer a web based version called <a href="http://dummysmtp.com/">DummySMTP</a> which allows you to test an almost live copy of your application but DummySMTP captures the emails sent out to customers, for example.</p>
    </div> 
    
        <div id="tagcloud">   
            
            
                <a href="/tags/.net/"><span>.net</span></a>
            
                <a href="/tags/oss/"><span>oss</span></a>
            
                <a href="/tags/csharp/"><span>csharp</span></a>
            
                <a href="/tags/email/"><span>email</span></a>
            
                <a href="/tags/node.js/"><span>node.js</span></a>
            
                <a href="/tags/papercut/"><span>papercut</span></a>
                     
        </div>
    
    
    <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="Jonathan Channon">
    </span>
    
<div id="disqus_thread"></div>
<script>

    


    var disqus_config = function () {
        this.page.url = '\/2012-10-25-testing-your-applications-email-logic\/';  
        this.page.identifier = ''; 
    };

    (function () { 
        var d = document, s = d.createElement('script');
        s.src = '//jonathanchannonblog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

        </div>
        
    </div>
</div>



<div class="footer_social">
    <div class="footer_social_inner">
        <div class="container">
            
                <a class="social-twitter" data-hint="Twitter" title="Twitter" href="https://twitter.com/jchannon" rel="me">Twitter</a>
            
            
                <a class="social-github" data-hint="Github" title="Github" href="https://github.com/jchannon" rel="me">Github</a>
            
            
                <a class="social-linkedin" data-hint="LinkedIn" title="Linked In" href="http://uk.linkedin.com/in/jonathanchannon" rel="me">Linked In</a>
            
            
                <a href="/feed.xml" class="social-rss">RSS Feed</a>
            
        </div>
    </div>
</div>



</div>


<script src="//js/libs/modernizr.min.js"></script>
<script src="//js/libs/respond.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>


<script src="//js/general.js"></script>
<script src="//js/hoverIntent.js"></script>

<script type='text/javascript'>
    $(function () {
        $("pre code").parent().each(function () {
            if (!$(this).hasClass("prettyprint")) {
                $(this).addClass("prettyprint");
                a = true
            }
        });
        
    });
</script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sons-of-obsidian"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>

</html>
