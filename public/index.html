<!DOCTYPE html>






<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Jonathan Channon Blog</title>
        <meta name="description" content="My description">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.69.2" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="9bvoj2jXRyykef2Tg72C0Am15YBTqDF0RgeZ84tUytE" />
        <meta property="og:title" content="">
<meta property="og:description" content="My description">
<meta property="og:type" content="website">
<meta property="og:url" content="/">
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700%7CCourgette' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/dist/site.css">
        <link rel="stylesheet" href="/dist/syntax.css">
        <link rel="stylesheet" href="/dist/screen.css" media="screen" >
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
            <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Jonathan Channon Blog">
        
        
        
        
    </head>
    <body>
        

        <div class="body_wrap">
            <div class="logo">
                <strong><a href="index.html">Blog</a></strong>
                <div class="logo_description">curated by Jonathan Channon</div>
            </div>
            
            <div class="header">            
                <div class="header_inner">
                        
                    <nav id="topmenu" class="clearfix">
                        <ul class="dropdown">
                            <li class="menu-item-blue"><a href="/"><span>Home</span></a></li>
                            <li class="menu-item-pink"><a href="/archive"><span>Archive</span></a></li>
                        </ul>
                    
                    <select id="topm-select" onChange="location = this.value">
                        <option value="">Site Navigation</option>
                        <option value="/">Home</option>
                        <option value="/about">About Me</option>

                        <option value="/archive">Archive</option>
                        <option value="/contact">Contact</option>
                    </select>
                    </nav>    
                    

                </div>
            </div>
              
            
            <div id="middle" class="full_width">
                <div class="container clearfix">                        
                    
                    <div> 
            


        
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2018-04-10-announcing-carter/">Announcing Carter</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">April 10, 2018</span> 
        
        <div class="commentcount" data-disqus-url="/2018-04-10-announcing-carter/"></div>
    </div>
    
    <div class="post-descr entry">
        As of beginning of April 2018 Botwin has been renamed to Carter. Whilst I thought the name was genius it became obvious that some people didn&rsquo;t like it or understand it and tried to interpret it as a Bot framework for Windows. After spending too long trying to think of a new name I finally decided upon Carter. Carter comes from the surname of Jay-Z (Shawn Carter) and in his song Empire State of Mind he sings &ldquo;I&rsquo;m the new Sinatra&rdquo;.
    </div>

    <p><a class="readmore" href="/2018-04-10-announcing-carter/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2017-06-07-debugging-netcore-docker/">Debugging .Net Core apps inside Docker container with VSCode</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">June 7, 2017</span> 
        
        <div class="commentcount" data-disqus-url="/2017-06-07-debugging-netcore-docker/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>So by now using .Net Core on Linux is old news, everyone is doing it and deploying their production apps on Kubernetes to reach peak &ldquo;I can scale&rdquo; points.  However, one thing that can get tricky is when you have a requirement to debug an application in a container.  I believe VS on Windows and VS for Mac has some sort of capability to do that (I have no idea what it does underneath but hey who cares I can right click debug right!?) but the information about doing this in VSCode is a bit sketchy.  I tend to use VSCode on OSX the most so I wanted to see how I could do this.</p>
<p>For demonstration purposes lets take a very simple application and we are going to publish it as a self contained application ie/one that has all the runtime and application binaries outputted so you don&rsquo;t have to install dotnet in a container.</p>
<p>To be able to debug that application we are going to need VSDBG(the .Net Core command line debugger) inside the container.</p>
<p><code>curl -sSL https://aka.ms/getvsdbgsh | bash /dev/stdin -v latest -l ~/vsdbg</code></p>
<p>We are also going to need to append the launch.json for VSCode in your project&rsquo;s root to have the below:</p>
<pre><code>{
    &quot;name&quot;: &quot;.NET Core Remote Attach&quot;,
    &quot;type&quot;: &quot;coreclr&quot;,
    &quot;request&quot;: &quot;attach&quot;,
    &quot;processId&quot;: &quot;${command:pickRemoteProcess}&quot;,
    &quot;pipeTransport&quot;: {
        &quot;pipeProgram&quot;: &quot;bash&quot;,
        &quot;pipeArgs&quot;: [ &quot;-c&quot;, &quot;docker exec -i json ${debuggerCommand}&quot; ],
        &quot;debuggerPath&quot;: &quot;/root/vsdbg/vsdbg&quot;,
        &quot;pipeCwd&quot;: &quot;${workspaceRoot}&quot;,
        &quot;quoteArgs&quot;: true
    },
    &quot;sourceFileMap&quot;: {
        &quot;/Users/jonathan/Projects/jsonfile&quot;: &quot;${workspaceRoot}&quot;
    },
    &quot;justMyCode&quot;: true
}
</code></pre>
    </div>

    <p><a class="readmore" href="/2017-06-07-debugging-netcore-docker/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2017-05-15-using-docker-with-netcore-ci/">Using Docker with .Net Core in CI for OSS</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">May 15, 2017</span> 
        
        <div class="commentcount" data-disqus-url="/2017-05-15-using-docker-with-netcore-ci/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>I recently wrote a <a href="http://blog.jonathanchannon.com/2017/05/04/announcing-botwin/">project</a> for <a href="https://t.co/kpkdInRgwG">ASP.NET Core 2</a>  and the time had come to get a CI system up and running.  I develop on OSX and mainly test on OSX &amp; Linux and so the defacto place to go is TravisCI.  I&rsquo;ve used it in the past and all has been great but I put out a tweet asking if Travis was still the place to go:</p>
<!-- raw HTML omitted -->
    </div>

    <p><a class="readmore" href="/2017-05-15-using-docker-with-netcore-ci/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2017-05-04-announcing-botwin/">Announcing Botwin</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">May 4, 2017</span> 
        
        <div class="commentcount" data-disqus-url="/2017-05-04-announcing-botwin/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>Whilst keeping my eye on what&rsquo;s going on in .NET Core v2 I came across some planned changes for ASP.NET Core regarding the <a href="https://github.com/aspnet/Routing/blob/dev/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs">routing</a>.  I had also read this <a href="https://www.strathweb.com/2017/01/building-microservices-with-asp-net-core-without-mvc/">blog post</a> from <a href="https://twitter.com/filip_woj">Filip</a> about using the planned changes for microservices and a lightbulb went off in my head.  I thought to myself I wonder if I could adapt the new extensions to create Nancy-esque routing.  Turns out, I could!</p>
<h3 id="sample">Sample</h3>
<pre><code>public class ActorsModule : BotwinModule
{
    public ActorsModule()
    {
        this.Get(&quot;/&quot;, async (req, res, routeData) =&gt;
        {
            await res.WriteAsync(&quot;Hello World!&quot;);
        });
    }
}
</code></pre>
    </div>

    <p><a class="readmore" href="/2017-05-04-announcing-botwin/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2016-07-13-building-all-current-dotnet-core-projects-vscode/">Building all and current dotnet core projects in VSCode</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">July 13, 2016</span> 
        
        <div class="commentcount" data-disqus-url="/2016-07-13-building-all-current-dotnet-core-projects-vscode/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>As you may or may not know I try to work on OSX as much as possible and with .Net that&rsquo;s quite painful to be honest.  Things are moving along nicely with Jetbrains Rider,
VSCode, Xamarin and Omnisharp.  I&rsquo;ll be honest, none of them are perfect and I often find myself using Visual Studio in a VM because it just works (yes, its clunky etc etc).
Recently, VSCode got a 1.3 release with some new features, tabs being one of them.  I never really got on with VSCode so dismissed it most of the time but this new release
opened my eyes a bit more and thought I&rsquo;d give it a go.  Its C# support now runs on .Net Core RTM and most of my work at the moment is porting projects to .Net Core so it seemed
this would be worthwhile.  I&rsquo;ve tried to setup keybindings that are the ones I know from Visual Studio and installed couple of extensions to make things easier and prettier.</p>
<p>As VSCode is language agnostic the one thing I found was how to build .Net Core projects was a bit off.  For each project you have you have to configure a task runner.  VSCode tries to
help you here and gives you a few languages to choose from.  For .Net Core it creates a <code>dotnet build</code> task.  The problem with this is that it runs that command from the workspace root,
ie the folder where VSCode is opened.  What if you open it from the git root folder and your project(s) are under a src/MyProject folder?  It will fail as it cant find project.json.
What you can do is set the <code>cwd</code> to be a specific directory by hardcoding it in the task configuration but thats not great if you have multiple projects.  You could use some predefined
variables that VSCode provides eg/<code>${fileDirname}</code> but again if you are in a folder 4 levels deep that wont work either.</p>
    </div>

    <p><a class="readmore" href="/2016-07-13-building-all-current-dotnet-core-projects-vscode/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2016-06-27-porting-owin-middleware-aspnetcore/">Porting OWIN middleware to ASP.Net Core</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">June 27, 2016</span> 
        
        <div class="commentcount" data-disqus-url="/2016-06-27-porting-owin-middleware-aspnetcore/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>In our application at work we make use of various middleware and as we are making everything run on .Net Core the time has come to port said middleware to .Net Core.  If you don&rsquo;t already know ASP.Net Core has a bridge that allows you to use OWIN components in an ASP.Net Core application.  This will convert the HttpContext into a OWIN environment dictionary on input and then back again on output.</p>
<p>Lets take an example of some middleware</p>
<pre><code>public class MyMiddleware
{
    private readonly Func&lt;IDictionary&lt;string, object&gt;, Task&gt; nextFunc;
    private readonly OwinUserMiddlewareOptions options;

    public OwinUserMiddleware(Func&lt;IDictionary&lt;string, object&gt;, Task&gt; nextFunc, MyMiddlewareOptions options)
    {
        this.options = options;
        this.nextFunc = nextFunc;
    }

    public Task Invoke(IDictionary&lt;string, object&gt; environment)
    {
        //Everything is awesome
        return nextFunc(environment);
    }
}

public static class MyMiddlewareExtensions
{
    public static IAppBuilder UseMyMiddleware(this IAppBuilder app, MyMiddlewareOptions options = null)
    {
        return app.Use(typeof(MyMiddleware), options);
    }
}
</code></pre>
    </div>

    <p><a class="readmore" href="/2016-06-27-porting-owin-middleware-aspnetcore/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2016-04-28-what-is-a-hypermedia-client/">What is a Hypermedia client?</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">April 28, 2016</span> 
        
        <div class="commentcount" data-disqus-url="/2016-04-28-what-is-a-hypermedia-client/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>I&rsquo;ve been interested in Hypermedia for quite a while.  I bugged <a href="http://twitter.com/darrelmiller">Darrel Miller</a> and <a href="http://twitter.com/gblock">Glenn Block</a> (Glenn Miller) so much so they created a <a href="https://www.youtube.com/playlist?list=PLbc9sDUxHqX60XJaTnNnKvI2mRighInDW">YouTube show</a> called &ldquo;In The Mood for HTTP&rdquo;.  I bought their book <a href="http://webapibook.net/">&ldquo;Designing Evolvable Web APIs with ASP.NET&rdquo;</a>, I am waiting for <a href="http://shop.oreilly.com/product/0636920037958.do">&ldquo;RESTful Web Clients Enabling Reuse Through Hypermedia&rdquo;</a> by <a href="http://twitter.com/mamund">Mike Amundsen</a>, I have <a href="http://blog.jonathanchannon.com/2015/08/07/hypermedia-and-nancyfx/index.html">written</a> about how to return different media types with NancyFX and I am looking at going to <a href="http://2016.uk.restfest.org/">restfest.org</a> in Edinburgh this year, a REST conference.</p>
<p>The one thing that I have always discussed with Glenn Miller is that there seems, or from my perception, that there is a lot of emphasis on the server returning media types(HAL,Siren,JSON-LD, Collection+Json) and very little information about hypermedia clients.  The information that I have come across which is very little, again coulkd be due to my lack of Google-fu, seems to generate a mis-conception.  The mis-conception I have come across is that if you have an API that returns hypermedia then your client should be able to magically work with it.  It should know everything that is required to browse the API and discover its way around.  I never quite grasped how that was supposed to happen and was serioulsy confused.  I had seen a video that showed when the server returned its responses, using Javascript it would loop over all the properties in the payload and then display them in a HTML page.  The emphasis was that if new bits of data were added then they would appear magically in the UI.  That seemed like a nice feature but I still didn&rsquo;t quite get how it went from hitting the root of the API to finding its way into the guts of it.  The server would return links in the payload with &ldquo;rels&rdquo; and I was baffled how this magic client knew what to do with a rel or even how it knew what rels it would return.</p>
    </div>

    <p><a class="readmore" href="/2016-04-28-what-is-a-hypermedia-client/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2016-03-30-vq-communications-funds-coreclr-nancyfx/">VQ Communications Funds NancyFX to run on CoreCLR</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">March 30, 2016</span> 
        
        <div class="commentcount" data-disqus-url="/2016-03-30-vq-communications-funds-coreclr-nancyfx/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>Nearly 2 years ago I was employed by <a href="http://www.vqcomms.com">VQ Communications</a> primarily because of my open source contributions to <a href="http://nancyfx.org">NancyFX</a>.  They had started work on a v2 of their flagship product and had begun work with Nancy and needed someone to help drive a HTTP API and architect a scaling solution as their v2 product was addressing a requirement they had for it cope with large volumes of traffic.  Also of interest to me was their aim to deliver all of this as a black box appliance to customers on a VM running a custom embedded version of Linux using Postgres as the database.  I would work four days a week remotely and go into the office one day a week.  They already had completely remote employees and since I have been there they have taken on more. There are lots more juicy technical examples in the stack I could go into however, this is not the point of this post.</p>
    </div>

    <p><a class="readmore" href="/2016-03-30-vq-communications-funds-coreclr-nancyfx/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2016-02-11-profiling-coreclr-application/">Profiling a CoreCLR application with dotMemory</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">February 11, 2016</span> 
        
        <div class="commentcount" data-disqus-url="/2016-02-11-profiling-coreclr-application/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>I had ported an application over to CoreCLR (that&rsquo;s a whole other blog post), along with my colleague <a href="http://twitter.com/yantrio">James Humphries</a> put it in a docker image and sat back and watched it do its thing.  After 6 hours of running the docker container had crashed.  Ah nuts we thought,  so pulled up the logs from docker and the last line looked like this <code>2016-02-10T20:18:31.728783069Z Killed</code>.  I&rsquo;m pretty sure when you have a log entry with <code>Killed</code> in it, things can&rsquo;t be good. To the interweb&hellip;</p>
<p>I opened up the CoreFX repository on Github to search for the term <code>Killed</code> and there were 2 comments but nothing that was logged out anywhere.  I then Googled for docker and killed and there was an entry that someone else had spotted on their container and the feedback was essentially it was probably out of memory.</p>
    </div>

    <p><a class="readmore" href="/2016-02-11-profiling-coreclr-application/">Read more...</a></p>            
    
  </div>
        
            <div class="post-item boxed post-detail" itemtype="https://schema.org/Blog">

    <span class="post-label label-quotes"></span>           
    <div class="post-title">
      <h1><a href="/2015-11-16-content-negotiation-golang/">Introducing Negotiator  - a GoLang content negotiation library</a></h1>
    </div>
    <div class="post-meta-top">
        <span class="post-date">November 16, 2015</span> 
        
        <div class="commentcount" data-disqus-url="/2015-11-16-content-negotiation-golang/"></div>
    </div>
    
    <div class="post-descr entry">
        <p>In my continued experience learning GoLang I started looking at how to best use it when dealing with HTTP.  The idiomatic way to use GoLang and HTTP is to use the standard library which keeps things minimal but there are a few features missing.  The first thing is a router.  OOTB GoLang doesn&rsquo;t have a router and the majority seem to suggest using a package called Mux from Gorilla Toolkit, a set of libraries that aims to improve the standard library from Go.  After having a play with it I didn&rsquo;t really warm to it so spent some time looking into the alternatives (and there are plenty!) and eventually decided upon <a href="https://goji.io">Goji</a></p>
<p>Once I had started using Goji I then wanted to handle content negotiation in my HTTP handler.  As I said earlier GoLang is minimal in its offerings OOTB and this is a good thing.  Just for the record there are a few frameworks out there if you want/need and all encompassing framework such as Martini, Revel and Echo.  These tend to bend the idioms  of GoLang a bit and even the author of Martini blogged on this fact due to feedback from the community that although its capabilities are great they aren&rsquo;t idiomatic Go.</p>
    </div>

    <p><a class="readmore" href="/2015-11-16-content-negotiation-golang/">Read more...</a></p>            
    
  </div>
        
   

    
        

    <div class="text-center">

        
        
            <a href="/page/2/">Older Posts &rarr;</a>
        
    </div>

    
</div>

        </div>
        
    </div>
</div>



<div class="footer_social">
    <div class="footer_social_inner">
        <div class="container">
            
                <a class="social-twitter" data-hint="Twitter" title="Twitter" href="https://twitter.com/jchannon" rel="me">Twitter</a>
            
            
                <a class="social-github" data-hint="Github" title="Github" href="https://github.com/jchannon" rel="me">Github</a>
            
            
                <a class="social-linkedin" data-hint="LinkedIn" title="Linked In" href="http://uk.linkedin.com/in/jonathanchannon" rel="me">Linked In</a>
            
            
                <a href="/feed.xml" class="social-rss">RSS Feed</a>
            
        </div>
    </div>
</div>



</div>


<script src="//js/libs/modernizr.min.js"></script>
<script src="//js/libs/respond.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>


<script src="//js/general.js"></script>
<script src="//js/hoverIntent.js"></script>

<script type='text/javascript'>
    $(function () {
        $("pre code").parent().each(function () {
            if (!$(this).hasClass("prettyprint")) {
                $(this).addClass("prettyprint");
                a = true
            }
        });
        
    });
</script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sons-of-obsidian"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>

</html>
