<!DOCTYPE HTML>

<html lang='en'>
	<head>
	<meta name="generator" content="Hugo 0.83.1" />
		<title>Jonathan Channon Blog</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		
		
		
		<link rel="stylesheet" href="/assets/css/main.min.css">
		
		
		
		<noscript><link rel="stylesheet" href='/assets/css/noscript.css' /></noscript>
	</head>

	<body lang='en' class="is-preload">

		
		

		
		
		

		

		
		
		

		
		

		
			
		
		

		
		
		


		
			<div id="wrapper" class="fade-in" data-pfn="post" data-ps="6" data-pfp="true">

				

				
<header id="header">
    <a href='/' class="logo">Blog</a>
</header>

				

<nav id="nav">
    <ul class="links">
        <li class="active"><a href='/'>Blog</a></li>
        
        
    </ul>
    
    <ul class="icons">
        
        <li><a href="https://twitter.com/jchannon" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        
        
        <li><a href="https://github.com/jchannon" class="icon fa-github"><span class="label">GitHub</span></a></li>
        
        
        
        
        <li><a href="https://www.linkedin.com/in/jonathanchannon/" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
        
        
        
        
        
    </ul>
    
</nav>


				
					<div id="main">

						
						


<article class="post featured">
    <header class="major">
        
        <span class="date">Tue, Jun 16, 2020</span>
        
        <h2><a href="https://blog.jonathanchannon.com/post/goodbye-nancyfx-hello-fsharp/">Goodbye NancyFX, Hello F#!</a></h2>
        
        <p><p>As some of you may already know, NancyFX has been archived 11 years after its first commit.  You can read the announcement <a href="https://github.com/NancyFx/Nancy#-announcement----nancy-is-no-longer-being-maintained">here</a> for further information but I will never forget what I learnt from this codebase, the community around it and most especially the people involved with it.  I am very proud and honoured to have been involved with it and a massive thank you to <a href="https://twitter.com/thecodejunkie">Andreas HÃ¥kansson</a> for teaching me plenty via the 1:1 Skype calls we had in the early days.  As many of you also know I created <a href="https://github.com/CarterCommunity/Carter/">Carter</a> which in my mind was Nancy v2 but sat on top of ASP.NET Core with the same approaches as Nancy, offering many things a web framework should have.  The usage of Carter has steadily increased which is good to know people value similar things we achieved with Nancy.  However, paradoxically I have had a feeling brewing for sometime that this effort is almost futile.</p></p>
        
    </header>
    
    <ul class="actions">
        <li><a href="https://blog.jonathanchannon.com/post/goodbye-nancyfx-hello-fsharp/" class="button big">Read more</a></li>
    </ul>
</article>


						

						
							

<section class="posts">
    
    <article>
        <header>
            
            <span class="date">Tue, Apr 10, 2018</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/announcing-carter/">Announcing Carter</a></h2>
        </header>
        
        
        <p><p>As of beginning of April 2018 Botwin has been renamed to Carter.  Whilst I thought the name was genius it became obvious that some people didn&rsquo;t like it or understand it and tried to interpret it as a Bot framework for Windows.  After spending too long trying to think of a new name I finally decided upon Carter. Carter comes from the surname of Jay-Z (Shawn Carter) and in his song Empire State of Mind he sings &ldquo;I&rsquo;m the new Sinatra&rdquo;. Sinatra is a web framework which inspired Nancy which heavily inspired Botwin.</p>
<p>The last release of Botwin was 3.5.0 but the same package has also been released under Carter 3.5.0</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/announcing-carter/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Wed, Jun 7, 2017</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/debugging-netcore-docker/">Debugging .Net Core apps inside Docker container with VSCode</a></h2>
        </header>
        
        
        <p><p>So by now using .Net Core on Linux is old news, everyone is doing it and deploying their production apps on Kubernetes to reach peak &ldquo;I can scale&rdquo; points.  However, one thing that can get tricky is when you have a requirement to debug an application in a container.  I believe VS on Windows and VS for Mac has some sort of capability to do that (I have no idea what it does underneath but hey who cares I can right click debug right!?) but the information about doing this in VSCode is a bit sketchy.  I tend to use VSCode on OSX the most so I wanted to see how I could do this.</p>
<p>For demonstration purposes lets take a very simple application and we are going to publish it as a self contained application ie/one that has all the runtime and application binaries outputted so you don&rsquo;t have to install dotnet in a container.</p>
<p>To be able to debug that application we are going to need VSDBG(the .Net Core command line debugger) inside the container.</p>
<p><code>curl -sSL https://aka.ms/getvsdbgsh | bash /dev/stdin -v latest -l ~/vsdbg</code></p>
<p>We are also going to need to append the launch.json for VSCode in your project&rsquo;s root to have the below:</p>
<pre><code>{
    &quot;name&quot;: &quot;.NET Core Remote Attach&quot;,
    &quot;type&quot;: &quot;coreclr&quot;,
    &quot;request&quot;: &quot;attach&quot;,
    &quot;processId&quot;: &quot;${command:pickRemoteProcess}&quot;,
    &quot;pipeTransport&quot;: {
        &quot;pipeProgram&quot;: &quot;bash&quot;,
        &quot;pipeArgs&quot;: [ &quot;-c&quot;, &quot;docker exec -i json ${debuggerCommand}&quot; ],
        &quot;debuggerPath&quot;: &quot;/root/vsdbg/vsdbg&quot;,
        &quot;pipeCwd&quot;: &quot;${workspaceRoot}&quot;,
        &quot;quoteArgs&quot;: true
    },
    &quot;sourceFileMap&quot;: {
        &quot;/Users/jonathan/Projects/jsonfile&quot;: &quot;${workspaceRoot}&quot;
    },
    &quot;justMyCode&quot;: true
}
</code></pre></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/debugging-netcore-docker/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Mon, May 15, 2017</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/using-docker-with-netcore-ci/">Using Docker with .Net Core in CI for OSS</a></h2>
        </header>
        
        
        <p><p>I recently wrote a <a href="http://blog.jonathanchannon.com/2017/05/04/announcing-botwin/">project</a> for <a href="https://t.co/kpkdInRgwG">ASP.NET Core 2</a>  and the time had come to get a CI system up and running.  I develop on OSX and mainly test on OSX &amp; Linux and so the defacto place to go is TravisCI.  I&rsquo;ve used it in the past and all has been great but I put out a tweet asking if Travis was still the place to go:</p>
<!-- raw HTML omitted --></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/using-docker-with-netcore-ci/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Thu, May 4, 2017</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/announcing-botwin/">Announcing Botwin</a></h2>
        </header>
        
        
        <p><p>Whilst keeping my eye on what&rsquo;s going on in .NET Core v2 I came across some planned changes for ASP.NET Core regarding the <a href="https://github.com/aspnet/Routing/blob/dev/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs">routing</a>.  I had also read this <a href="https://www.strathweb.com/2017/01/building-microservices-with-asp-net-core-without-mvc/">blog post</a> from <a href="https://twitter.com/filip_woj">Filip</a> about using the planned changes for microservices and a lightbulb went off in my head.  I thought to myself I wonder if I could adapt the new extensions to create Nancy-esque routing.  Turns out, I could!</p>
<h3 id="sample">Sample</h3>
<pre><code>public class ActorsModule : BotwinModule
{
    public ActorsModule()
    {
        this.Get(&quot;/&quot;, async (req, res, routeData) =&gt;
        {
            await res.WriteAsync(&quot;Hello World!&quot;);
        });
    }
}
</code></pre></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/announcing-botwin/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Wed, Jul 13, 2016</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/building-all-current-dotnet-core-projects-vscode/">Building all and current dotnet core projects in VSCode</a></h2>
        </header>
        
        
        <p><p>As you may or may not know I try to work on OSX as much as possible and with .Net that&rsquo;s quite painful to be honest.  Things are moving along nicely with Jetbrains Rider,
VSCode, Xamarin and Omnisharp.  I&rsquo;ll be honest, none of them are perfect and I often find myself using Visual Studio in a VM because it just works (yes, its clunky etc etc).
Recently, VSCode got a 1.3 release with some new features, tabs being one of them.  I never really got on with VSCode so dismissed it most of the time but this new release
opened my eyes a bit more and thought I&rsquo;d give it a go.  Its C# support now runs on .Net Core RTM and most of my work at the moment is porting projects to .Net Core so it seemed
this would be worthwhile.  I&rsquo;ve tried to setup keybindings that are the ones I know from Visual Studio and installed couple of extensions to make things easier and prettier.</p>
<p>As VSCode is language agnostic the one thing I found was how to build .Net Core projects was a bit off.  For each project you have you have to configure a task runner.  VSCode tries to
help you here and gives you a few languages to choose from.  For .Net Core it creates a <code>dotnet build</code> task.  The problem with this is that it runs that command from the workspace root,
ie the folder where VSCode is opened.  What if you open it from the git root folder and your project(s) are under a src/MyProject folder?  It will fail as it cant find project.json.
What you can do is set the <code>cwd</code> to be a specific directory by hardcoding it in the task configuration but thats not great if you have multiple projects.  You could use some predefined
variables that VSCode provides eg/<code>${fileDirname}</code> but again if you are in a folder 4 levels deep that wont work either.</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/building-all-current-dotnet-core-projects-vscode/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Mon, Jun 27, 2016</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/porting-owin-middleware-aspnetcore/">Porting OWIN middleware to ASP.Net Core</a></h2>
        </header>
        
        
        <p><p>In our application at work we make use of various middleware and as we are making everything run on .Net Core the time has come to port said middleware to .Net Core.  If you don&rsquo;t already know ASP.Net Core has a bridge that allows you to use OWIN components in an ASP.Net Core application.  This will convert the HttpContext into a OWIN environment dictionary on input and then back again on output.</p>
<p>Lets take an example of some middleware</p>
<pre><code>public class MyMiddleware
{
    private readonly Func&lt;IDictionary&lt;string, object&gt;, Task&gt; nextFunc;
    private readonly OwinUserMiddlewareOptions options;

    public OwinUserMiddleware(Func&lt;IDictionary&lt;string, object&gt;, Task&gt; nextFunc, MyMiddlewareOptions options)
    {
        this.options = options;
        this.nextFunc = nextFunc;
    }

    public Task Invoke(IDictionary&lt;string, object&gt; environment)
    {
        //Everything is awesome
        return nextFunc(environment);
    }
}

public static class MyMiddlewareExtensions
{
    public static IAppBuilder UseMyMiddleware(this IAppBuilder app, MyMiddlewareOptions options = null)
    {
        return app.Use(typeof(MyMiddleware), options);
    }
}
</code></pre></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/porting-owin-middleware-aspnetcore/" class="button">Read more</a></li>
        </ul>
    </article>
    
</section>

						

						
						
						




















<footer>
    <div class="pagination">
        <ul class="pagination">

            
            
                
                <li>
                    <a href="/" class="extra first">
                        First
                    </a>
                </li>
                
            
            
            
            <li>
                <a href="/" class="previous">
                    Prev
                </a>
            </li>
            

            
            
                

                
                

                    
                    
                    

                        
                        
                            
                        

                    
                    
                    

                
                

                
                
                <li>
                    <a href="/" class="page">
                        1 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                        
                            
                        

                    
                    
                    

                
                

                
                
                <li>
                    <a href="/page/2/" class="page active">
                        2 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                        
                            
                        

                    
                    
                    

                
                

                
                
                <li>
                    <a href="/page/3/" class="page">
                        3 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                        
                            
                        

                    
                    
                    

                
                

                
                
                <li>
                    <a href="/page/4/" class="page">
                        4 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                        
                            
                        

                    
                    
                    

                
                

                
                
                <li>
                    <a href="/page/5/" class="page">
                        5 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                        

                    
                    
                    

                
                

                
                

            

            
            
            <li>
                <a href="/page/3/" class="next">
                    Next
                </a>
            </li>
            

            
            
                
                <li>
                    <a href="/page/11/" class="extra last">
                        Last
                    </a>
                </li>
                
            
        </ul>
    </div>
</footer>


					</div>

					

<footer id="footer">
    
    <section class="split contact">
        
        
        
        
        <section>
            <h3>Social</h3>
            <ul class="icons alt">
                
                <li><a href="https://twitter.com/jchannon" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
                
                
                <li><a href="https://github.com/jchannon" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
                
                
                
                
                <li><a href="https://www.linkedin.com/in/jonathanchannon/" class="icon alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
                
                
                
                
                
            </ul>
        </section>
        
    </section>
</footer>

					
<div id="copyright">
    <ul><li>&copy; Blog</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li><li>Hugo Port: <a href="https://curtistimson.co.uk">curttimson</a></li></ul>
</div>


					<a href="#navPanel" id="navPanelToggle">Menu</a>
			</div>

			
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-7138405-4', 'auto');
	
	ga('send', 'pageview');
}
</script>
			










<script src='/assets/js/bundle.js'></script>



	</body>
</html>
