<!DOCTYPE HTML>

<html lang='en'>
	<head>
	<meta name="generator" content="Hugo 0.83.1" />
		<title>Jonathan Channon Blog</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		
		
		
		<link rel="stylesheet" href="/assets/css/main.min.css">
		
		
		
		<noscript><link rel="stylesheet" href='/assets/css/noscript.css' /></noscript>
	</head>

	<body lang='en' class="is-preload">

		
		

		
		
		

		

		
		
		

		
		

		
			
		
		

		
		
		


		
			<div id="wrapper" class="fade-in" data-pfn="post" data-ps="6" data-pfp="true">

				

				
<header id="header">
    <a href='/' class="logo">Blog</a>
</header>

				

<nav id="nav">
    <ul class="links">
        <li class="active"><a href='/'>Blog</a></li>
        
        
    </ul>
    
    <ul class="icons">
        
        <li><a href="https://twitter.com/jchannon" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        
        
        <li><a href="https://github.com/jchannon" class="icon fa-github"><span class="label">GitHub</span></a></li>
        
        
        
        
        <li><a href="https://www.linkedin.com/in/jonathanchannon/" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
        
        
        
        
        
    </ul>
    
</nav>


				
					<div id="main">

						
						


<article class="post featured">
    <header class="major">
        
        <span class="date">Thu, Nov 7, 2013</span>
        
        <h2><a href="https://blog.jonathanchannon.com/post/using-git-to-update-youtrack-via-teamcity/">Using Git to update YouTrack via TeamCity</a></h2>
        
        <p>This post is mainly a reminder for me as I keep forgetting the command in Git to integrate commits to YouTrack items.
YouTrack uses TeamCity to get the information about the commits and then scans the commit comment for a YouTrack item id and any commands that it can apply such as item status or time spent on said item.
There is some documentation here but its not the greatest in terms of clarity and I&rsquo;ve spoken to Hadi Hariri from JetBrains about improving this so hopefully they&rsquo;re working on it.</p>
        
    </header>
    
    <ul class="actions">
        <li><a href="https://blog.jonathanchannon.com/post/using-git-to-update-youtrack-via-teamcity/" class="button big">Read more</a></li>
    </ul>
</article>


						

						
							

<section class="posts">
    
    <article>
        <header>
            
            <span class="date">Mon, Oct 21, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/running-mocha-tests-with-sublime-text/">Running Mocha tests within Sublime Text</a></h2>
        </header>
        
        
        <p><p>I spend most of my day in Visual Studio with lots of the goodies an IDE can offer.  One of them being able to run your tests from a keystroke.</p>
<p>In a bid to expand my mind I&rsquo;m working on a little project that is made up of JS entirely so I&rsquo;ve dug out <a href="http://sublimetext.com">Sublime Text</a>. It has lots of plugins that are very handy, especially <a href="https://github.com/victorporof/Sublime-HTMLPrettify">Sublime-HTMLPrettify</a> which will tidy your HTML, CSS &amp; JS for you.</p>
<p>When writing tests for JS there are many libraries you can use but I&rsquo;ve chosen <a href="http://visionmedia.github.io/mocha/">Mocha</a> for now.  The one thing I couldn&rsquo;t work out was to run my tests within Sublime Text until now.</p>
<h3 id="build-system">Build System</h3>
<p>Sublime allows you to have build systems a bit like an IDE so you can tell it what to do when you invoke it via <!-- raw HTML omitted -->cmd<!-- raw HTML omitted -->+<!-- raw HTML omitted -->B<!-- raw HTML omitted -->.</p>
<p>To get Mocha to run we need to create a new build system. To do this click Tools - Build System - New Build System and paste in the below:</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/running-mocha-tests-with-sublime-text/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Tue, Oct 1, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/blogging-with-markdown-and-git/">Blogging with Markdown &amp; Deploying via Git - Introducing Sandra.Snow</a></h2>
        </header>
        
        
        <p><p>There are many markdown blogging engines out there such as <a href="http://calepin.co/">Calepin</a>, <a href="http://scriptogr.am/">Scriptogram</a> and even <a href="http://wordpress.org/">WordPress</a> allows you to write blog posts in Markdown but <a href="https://github.com/Sandra/Sandra.Snow">Sandra.Snow</a> tries to add something different.  Firstly, it is written in .Net and <a href="http://nancyfx.org">Nancy</a>, secondly its a static blog generator and finally it supports Git deployment.</p>
<p>Even if you don&rsquo;t want to use Git deployment you can use FTP, its a great tool.  To write your blog post in Markdown you need a custom header in your file so it knows some information about your post.</p>
<pre><code>---
layout: post
category: Azure
title: Setting up a ServiceStack Service
---
</code></pre>
<p>It then parses this information along with your Markdown into its engine, uses a Markdown view engine to convert the file content into HTML, assign model properties based on the header and creates a HTML file using the model via a Razor viewengine.</p>
<p>The &ldquo;layout&rdquo; refers to the Razor file it uses to render the final HTML file.  This allows you to style your pages and blog posts whichever way you&rsquo;d prefer.  These &ldquo;layout&rdquo; files should exist in the &ldquo;_layouts&rdquo; folder for your site template.  The site template is a set of files and folders that Sandra.Snow uses to produce the final static website.</p>
<p>The &ldquo;category&rdquo; or &ldquo;categories&rdquo; property, you can use both for singular or multiple comma-seperated values that refer to the category/categories of your blog post.</p>
<p>The &ldquo;title&rdquo; should hopefully be self explanatory!</p>
<p>You can optionally add an author and email properties to override the global config settings for example, if you wanted to allow guest author blog posts.  There is also an optional metadescription property you can use for SEO.</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/blogging-with-markdown-and-git/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Fri, Sep 20, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/returning-multiple-fake-objects-with-fakeiteasy/">Returning multiple fake objects with FakeItEasy</a></h2>
        </header>
        
        
        <p><p>I was recently writing some unit tests where I needed to test that multiple calls to an interface returned different objects.</p>
<p>With <a href="https://github.com/FakeItEasy/FakeItEasy">FakeItEasy</a> this is easy:</p>
<pre><code>A.CallTo(() =&gt; myInterface.GetSomething(1)).Returns(new Something())
</code></pre>
<p>All very nice, but now if I have multiple calls to <code>myInterface</code> I have to execute the above statement &lsquo;x&rsquo; amount of times:</p>
<pre><code>[Fact]
public void Should_Do_Something()
{
  var myInterface = A.Fake&lt;IApplication&gt;();
  A.CallTo(() =&gt; myInterface.GetSomething(1)).Returns(new Something());
  A.CallTo(() =&gt; myInterface.GetSomething(2)).Returns(new Something());
  A.CallTo(() =&gt; myInterface.GetSomething(3)).Returns(new Something());
  
  var result = sut.DoSomething(myInterface);
  
  Assert.Equal(&quot;Super Duper&quot;, result);
}
</code></pre></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/returning-multiple-fake-objects-with-fakeiteasy/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Mon, Sep 16, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/enabling-cors-in-iisexpress/">Enabling CORS in IISExpress</a></h2>
        </header>
        
        
        <p>I was playing around with swagger-ui and was trying to point it to a local endpoint that I started with IIS Express. I was getting an error saying that it needed the endpoint to accept Access-Control-Allow-Origin requests.
I went Googling and it couldn&rsquo;t find anything specific to IIS Express but managed to use some guidance for full blown IIS.
The solution is to go to C:\Program Files (x86)\IIS Express\AppServer and open the applicationhost.</p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/enabling-cors-in-iisexpress/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Thu, Sep 12, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/keeping-sql-data-organised-in-integration-tests/">Keeping SQL Data Organised in Integration Tests</a></h2>
        </header>
        
        
        <p><p>In my latest project I had kept my solution tidy with my main app project, my unit test project and integration test project. I tend to stick with a naming convention such as MainApp, MainApp.Tests.Unit &amp; MainApp.Tests.Integration.</p>
<p>I had begun writing my integration tests for a repository that hits the database and returns data. Currently it was one method being called in the repository.  <a href="http://xunit.codeplex.com/">xUnit</a> allows you to setup any test dependencies in the constructor of your test class.  It also allows you to do any tidying up in a Dispose method if you implement IDisposable although this is <a href="http://xunit.codeplex.com/wikipage?title=Comparisons&amp;referringTitle=Home#note2">frowned upon</a>.  However I felt for my needs I would implement this.</p>
<p>I  was creating data in the database in the constructor which will get called before the test runs, retrieving data in the test, asserting and then deleting all data and resetting the auto-incrementing from the tables in the Dispose method.</p>
<p>This was working perfectly until I wanted to test another method on my repository.</p>
<p>I now needed to add data for my new method but realised if I added different data to the database in the constructor, I would be creating unnecessary data unrelated to the test.</p>
<p>My options were to move the constructor logic into separate methods and then call the methods in the test or have separate test classes per method in the repo.  Both were a not an ideal solution and quite frankly verbose, ugly and not best practice.</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/keeping-sql-data-organised-in-integration-tests/" class="button">Read more</a></li>
        </ul>
    </article>
    
    <article>
        <header>
            
            <span class="date">Wed, Sep 11, 2013</span>
            
            <h2><a href="https://blog.jonathanchannon.com/post/comparing-object-instances-with-fakeiteasy/">Comparing object instances with FakeItEasy</a></h2>
        </header>
        
        
        <p><p>I had the task of writing a new application recently and of course I chose <a href="http://nancyfx.org">Nancy</a>.  One of the many great reasons is the testing capabilites it offers (For more on that see <a href="http://www.marcusoft.net/2013/01/NancyTesting1.html">this</a> great series of articles).</p>
<p>The basics of a test with Nancy looks like this:</p>
<pre><code>[Fact]
public void Should_return_status_ok_when_route_exists()
{
    // Given
    var bootstrapper = new DefaultNancyBootstrapper();
    var browser = new Browser(bootstrapper);
     
    // When
    var result = browser.Get(&quot;/&quot;, with =&gt; {
        with.HttpRequest();
    });
        
    // Then
    Assert.Equal(HttpStatusCode.OK, result.StatusCode);
}
</code></pre>
<p>You set up a bootstrapper, this can be your live one or an inherited version of your live one with dependencies changed to mocks for example or use the <code>ConfigurableBootstrapper</code>.</p></p>
        
        <ul class="actions">
            <li><a href="https://blog.jonathanchannon.com/post/comparing-object-instances-with-fakeiteasy/" class="button">Read more</a></li>
        </ul>
    </article>
    
</section>

						

						
						
						




















<footer>
    <div class="pagination">
        <ul class="pagination">

            
            
                
                <li>
                    <a href="/" class="extra first">
                        First
                    </a>
                </li>
                
            
            
            
            <li>
                <a href="/page/5/" class="previous">
                    Prev
                </a>
            </li>
            

            
            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        
                            
                        

                    

                
                

                
                
                <li>
                    <a href="/page/4/" class="page">
                        4 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                            
                        

                    

                
                

                
                
                <li>
                    <a href="/page/5/" class="page">
                        5 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                            
                        

                    

                
                

                
                
                <li>
                    <a href="/page/6/" class="page active">
                        6 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                            
                        

                    

                
                

                
                
                <li>
                    <a href="/page/7/" class="page">
                        7 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        
                            
                        

                    

                
                

                
                
                <li>
                    <a href="/page/8/" class="page">
                        8 
                    </a>
                </li>
                

            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            
                

                
                

                    
                    
                    

                        

                    

                
                

                
                

            

            
            
            <li>
                <a href="/page/7/" class="next">
                    Next
                </a>
            </li>
            

            
            
                
                <li>
                    <a href="/page/11/" class="extra last">
                        Last
                    </a>
                </li>
                
            
        </ul>
    </div>
</footer>


					</div>

					

<footer id="footer">
    
    <section class="split contact">
        
        
        
        
        <section>
            <h3>Social</h3>
            <ul class="icons alt">
                
                <li><a href="https://twitter.com/jchannon" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
                
                
                <li><a href="https://github.com/jchannon" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
                
                
                
                
                <li><a href="https://www.linkedin.com/in/jonathanchannon/" class="icon alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
                
                
                
                
                
            </ul>
        </section>
        
    </section>
</footer>

					
<div id="copyright">
    <ul><li>&copy; Blog</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li><li>Hugo Port: <a href="https://curtistimson.co.uk">curttimson</a></li></ul>
</div>


					<a href="#navPanel" id="navPanelToggle">Menu</a>
			</div>

			
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-7138405-4', 'auto');
	
	ga('send', 'pageview');
}
</script>
			










<script src='/assets/js/bundle.js'></script>



	</body>
</html>
